<launch>
  <!-- Arguments -->
  <arg name="model" default="$(env TURTLEBOT3_MODEL)" doc="TurtleBot3 model [burger, waffle, waffle_pi]"/>
  <arg name="use_sim_time" default="true"/>

  <param name="use_sim_time" value="$(arg use_sim_time)"/>

  <!-- Include base TurtleBot3 launch -->
  <include file="$(find turtlebot3_bringup)/launch/turtlebot3_remote.launch">
    <arg name="model" value="$(arg model)" />
  </include>

  <!-- AMCL for localization -->
  <include file="$(find turtlebot3_navigation)/launch/amcl.launch"/>

  <!-- Move base for navigation -->
  <include file="$(find turtlebot3_navigation)/launch/move_base.launch"/>

  <!-- Custom Multi-Map Navigation Server Node -->
  <node pkg="multi_map_nav" type="multi_map_navigation_server" name="multi_map_navigation_server" output="screen"/>

  <!-- Visualizer -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find multi_map_nav)/rviz/multi_map_nav.rviz"/>
</launch>
